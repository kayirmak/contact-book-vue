(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/contact-book-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0c4f":function(t,e,s){},"0d08":function(t,e,s){"use strict";s("a9bc")},"1e22":function(t,e,s){t.exports=s.p+"img/photo.8fb57094.jpg"},"26c3":function(t,e,s){"use strict";s("3216")},3216:function(t,e,s){},"3c3f":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a,n,r,i=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},c=[],u=s("5530"),l=s("2f62"),d=s("ade3"),f=(s("d3b7"),s("4e82"),s("d81d"),s("bc3a")),h=s.n(f),v={users:{method:"GET",url:"/users"}},m="https://demo.sibers.com",p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(s,a){var n=v[t],r=m+n.url;h()({url:r,method:n.method,data:e,responseType:"json"}).then((function(t){return s(t.data)})).catch((function(t){return a(t)}))}))},b=(s("e9c4"),function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(s){console.log("ERROR setting data",s)}}),_=function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){console.log("ERROR getting data",e)}},C="DATA",g={users:_(C)||[],user:null},y={users:"[users] users",user:"[users] user"},O={getUsersSuccess:"[users] getUsersSuccess",getOneUser:"[users] getOneUser",changeUserDataSuccess:"[users] changeUserDataSuccess",sortUsersData:"[users] sortUsersData"},w={getUsers:"[users] getUsers",getOneUser:"[users] getOneUser",sortUsersData:"[users] sortUsersData",changeUserData:"[users] changeUserData"},j=(a={},Object(d["a"])(a,y.users,(function(t){return t.users})),Object(d["a"])(a,y.user,(function(t){return t.user?t.user:t.users[0]})),a),U=(n={},Object(d["a"])(n,O.getUsersSuccess,(function(t,e){t.users=e})),Object(d["a"])(n,O.getOneUser,(function(t,e){t.user=e})),Object(d["a"])(n,O.changeUserDataSuccess,(function(t,e){t.user=e})),Object(d["a"])(n,O.sortUsersData,(function(t,e){t.users=e})),n),D=(r={},Object(d["a"])(r,w.getUsers,(function(t){var e=t.commit;_(C)?e(O.getUsersSuccess,_(C)):p("users").then((function(t){b(C,t),e(O.getUsersSuccess,t)}))})),Object(d["a"])(r,w.getOneUser,(function(t,e){var s=t.commit;s(O.getOneUser,e)})),Object(d["a"])(r,w.sortUsersData,(function(t,e){var s=t.commit;return new Promise((function(t){e.sort((function(t,e){var s=t.username,a=e.username;return s<a?-1:s>a?1:0})),s(O.sortUsersData,e),t(e)}))})),Object(d["a"])(r,w.changeUserData,(function(t,e){var s=t.commit,a=t.dispatch;s(O.changeUserDataSuccess,e);var n=_(C);n=n.map((function(t){return t.id===e.id?e:t})),b(C,n),a(w.sortUsersData,n)})),r),S={state:g,mutations:U,actions:D,getters:j},k={name:"ConApp",methods:Object(u["a"])({},Object(l["b"])({getUsers:w.getUsers})),mounted:function(){this.getUsers()}},x=k,M=(s("5c0b"),s("2877")),$=Object(M["a"])(x,o,c,!1,null,null,null),A=$.exports,E=s("8c4f"),P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("users")],1)},T=[],F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"users"},[s("div",{staticClass:"users-top-bar"},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData,expression:"searchData"}],attrs:{type:"text",placeholder:"Type Username"},domProps:{value:t.searchData},on:{input:function(e){e.target.composing||(t.searchData=e.target.value)}}})]),s("div",{staticClass:"top-bar__select"},[s("label",{attrs:{for:"sort-select"}},[t._v("Sort By")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSortVal,expression:"selectedSortVal"}],attrs:{id:"sort-select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSortVal=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",selected:""}},[t._v("Default")]),s("option",{attrs:{value:"username"}},[t._v("Username")])])])]),s("div",{staticClass:"users-main"},[s("User",{attrs:{users:t.usersData,selectedVal:t.selectedSortVal},on:{showModal:t.showModal}}),s("Details",{on:{showModal:t.showModal}}),t.isShow?s("Modal",{attrs:{error:t.error},on:{hideModal:t.hideModal,sendForm:t.sendForm},scopedSlots:t._u([{key:"modal-header-title",fn:function(){return[t._v("Изменить")]},proxy:!0}],null,!1,4271392388)},t._l(Object.keys(t.userContacts),(function(e,a){return s("div",{key:a,staticClass:"form-item"},[s("label",{attrs:{for:"contact-"+e}},[t._v(t._s(e))]),"checkbox"===t.userContacts[e].type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.userContacts[e].value,expression:"userContacts[item].value"}],attrs:{id:"contact-"+e,type:"checkbox"},domProps:{checked:Array.isArray(t.userContacts[e].value)?t._i(t.userContacts[e].value,null)>-1:t.userContacts[e].value},on:{change:function(s){var a=t.userContacts[e].value,n=s.target,r=!!n.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);n.checked?o<0&&t.$set(t.userContacts[e],"value",a.concat([i])):o>-1&&t.$set(t.userContacts[e],"value",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.userContacts[e],"value",r)}}}):"radio"===t.userContacts[e].type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.userContacts[e].value,expression:"userContacts[item].value"}],attrs:{id:"contact-"+e,type:"radio"},domProps:{checked:t._q(t.userContacts[e].value,null)},on:{change:function(s){return t.$set(t.userContacts[e],"value",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.userContacts[e].value,expression:"userContacts[item].value"}],attrs:{id:"contact-"+e,type:t.userContacts[e].type},domProps:{value:t.userContacts[e].value},on:{input:function(s){s.target.composing||t.$set(t.userContacts[e],"value",s.target.value)}}})])})),0):t._e()],1)])},V=[],N=s("2909"),q=(s("4de4"),s("caad"),s("2532"),s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},[s("div",{staticClass:"user-modal"},[t.isShowDetailsMobile?s("Modal",{on:{hideModal:function(e){t.isShowDetailsMobile=!1}},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[t._v(" ")]},proxy:!0}],null,!1,1550837854)},[s("Details")],1):t._e()],1),"username"===t.selectedVal?s("div",{staticClass:"user-group"},t._l(t.groupsName,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"user-group__toggle",on:{click:t.toggleGroup}},[t._v(" "+t._s(e.group)+" ")]),s("div",{staticClass:"user-group__items"},t._l(e.children,(function(e,a){return s("div",{key:a,staticClass:"user-item",class:{active:t.isActive===e.id},on:{click:function(s){return t.showDetails(e)}}},[s("div",{staticClass:"item-title"},[t._m(0,!0),s("div",[t._v(t._s(e.username))])]),s("div",{staticClass:"el-width email"},[t._v(t._s(e.email))]),s("div",{staticClass:"el-width"},[t._v(t._s(e.phone))]),s("button",{staticClass:"item-btn",attrs:{type:"submit"},on:{click:function(s){return s.stopPropagation(),t.showModal(e)}}},[s("i",{staticClass:"fa fa-edit"})])])})),0)])})),0):s("div",t._l(t.users,(function(e,a){return s("div",{key:a,staticClass:"user-item",class:{active:t.isActive===e.id},on:{click:function(s){return t.showDetails(e)}}},[s("div",{staticClass:"item-title"},[t._m(1,!0),s("div",[t._v(t._s(e.username))])]),s("div",{staticClass:"el-width email"},[t._v(t._s(e.email))]),s("div",{staticClass:"el-width"},[t._v(t._s(e.phone))]),s("button",{staticClass:"item-btn",attrs:{type:"submit"},on:{click:function(s){return s.stopPropagation(),t.showModal(e)}}},[s("i",{staticClass:"fa fa-edit"})])])})),0)])}),R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-title__avatar"},[a("img",{attrs:{src:s("1e22"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-title__avatar"},[a("img",{attrs:{src:s("1e22"),alt:""}})])}],J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"details",staticClass:"details"},[s("div",{staticClass:"wrapper"},[s("button",{staticClass:"details-btn",on:{click:function(e){return t.showModal(t.user)}}},[t._v("Edit")]),t._m(0),s("div",{staticClass:"details-title"},[s("h3",[t._v(t._s(t.user.username))]),s("p",[t._v(t._s(t.user.name))])]),s("Tabs",{attrs:{user:t.formedUser,tabs:t.tabs},on:{showContent:t.showContent}}),s("Details-content",{attrs:{content:t.content,tab:t.tab}})],1)])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details-image"},[a("img",{attrs:{src:s("1e22"),alt:""}})])}],G=(s("b64b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabs"},t._l(Object.keys(t.tabs),(function(e,a){return s("div",{key:a,staticClass:"tabs-item",class:{active:t.tabs[e].isActive},on:{click:function(s){return t.showContent(e)}}},[t._v(" "+t._s(e)+" ")])})),0)}),H=[],I={name:"ConTabs",props:{user:{type:Object,required:!0},tabs:{type:Object,required:!0}},data:function(){return{defaultTab:Object.keys(this.user)[0]}},methods:{showContent:function(t){for(var e in this.$emit("showContent",this.user[t],t),this.tabs)e!==t&&(this.tabs[e].isActive=!1),this.tabs[t].isActive=!0}},watch:{user:function(){this.showContent(this.defaultTab)}},mounted:function(){this.showContent(this.defaultTab)}},B=I,K=(s("d58e"),Object(M["a"])(B,G,H,!1,null,"50e26db0",null)),Y=K.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-content"},["contacts"===t.tab?s("div",{staticClass:"content-contact"},[s("div",{staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v("phone:")]),s("h4",[t._v(t._s(t.content.phone))])]),s("div",{staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v("email:")]),s("h4",[t._v(t._s(t.content.email))])]),s("div",{staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v("address:")]),s("h4",[t._v(t._s(t.content.address.country))])]),s("div",{staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v("website:")]),s("h4",[s("a",{attrs:{href:"http://"+t.content.website}},[t._v(t._s(t.content.website))])])])]):t._e(),"company"===t.tab?s("div",{staticClass:"content-company"},t._l(Object.keys(t.content),(function(e,a){return s("div",{key:a,staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v(t._s(e)+":")]),s("h4",[t._v(t._s(t.content[e]))])])})),0):t._e()])},Q=[],W={name:"ConDetailsContent",props:{content:{required:!0},tab:{required:!0}}},X=W,Z=(s("fc78"),Object(M["a"])(X,z,Q,!1,null,"5d0d6df2",null)),tt=Z.exports,et={contacts:{isActive:!1},company:{isActive:!1}},st={name:"ConDetails",components:{Tabs:Y,DetailsContent:tt},data:function(){return{tabs:et,content:"",tab:""}},computed:Object(u["a"])(Object(u["a"])({},Object(l["c"])({user:y.user})),{},{formedUser:function(){var t=Object(u["a"])({},this.user);return Object.keys(this.tabs).filter((function(e){delete t[e]})),{contacts:Object(u["a"])({},t),company:this.user.company,posts:this.user.posts}}}),methods:{showContent:function(t,e){this.content=t,this.tab=e},showModal:function(t){this.$emit("showModal",t)},detailsFixed:function(){var t=this;window.onscroll=function(){var e=t.$refs.details;window.pageYOffset>=t.$refs.details.offsetTop?e.classList.add("position-fixed"):e.classList.remove("position-fixed")}}},mounted:function(){this.detailsFixed()},updated:function(){this.detailsFixed()}},at=st,nt=(s("ef06"),Object(M["a"])(at,J,L,!1,null,"098786f4",null)),rt=nt.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"back-modal"},[s("div",{staticClass:"modal"},[s("div",{staticClass:"wrapper"},[s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.sendForm.apply(null,arguments)}}},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"modal-header__title"},[t._t("modal-header-title")],2),s("div",{staticClass:"modal-header__hide",on:{click:t.hide}},[t._v(" x ")])]),s("div",{staticClass:"modal-body"},[t._t("default")],2),s("div",{staticClass:"modal-footer"},[s("div",{staticClass:"error"},[s("div",[t._v(t._s(t.error))])]),t._t("modal-footer",(function(){return[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"modal-footer__btn btn-submit",attrs:{type:"submit"}},[t._v(" OK ")]),s("button",{staticClass:"modal-footer__btn btn-cancel",attrs:{type:"submit"},on:{click:t.hide}},[t._v(" Cancel ")])])]}))],2)])])])])},ot=[],ct={name:"ConModal",props:{error:{type:String}},methods:{hide:function(){this.$emit("hideModal")},sendForm:function(){this.$emit("sendForm")}}},ut=ct,lt=(s("f16a"),Object(M["a"])(ut,it,ot,!1,null,"17aa0acc",null)),dt=lt.exports,ft={name:"ConUser",components:{Modal:dt,Details:rt},props:{users:{required:!0},selectedVal:{type:String,required:!0}},data:function(){return{isActive:!1,isShowDetailsMobile:!1}},computed:Object(u["a"])(Object(u["a"])({},Object(l["c"])({user:y.user})),{},{groupsName:function(){var t=Object(N["a"])(this.users);return t.reduce((function(t,e){var s=e.username[0];return t[s]?t[s].children.push(e):t[s]={group:s,children:[e]},t}),{})}}),methods:Object(u["a"])(Object(u["a"])({},Object(l["b"])({getOneUser:w.getOneUser})),{},{showDetails:function(t){this.$store.dispatch(w.getOneUser,t),this.isActive=t.id,this.isShowDetailsMobile=!0},showModal:function(t){this.$emit("showModal",t)},toggleGroup:function(t){t.target.nextSibling.style.display=t.target.nextSibling.style.display?"":"none"}})},ht=ft,vt=(s("26c3"),Object(M["a"])(ht,q,R,!1,null,"3674bc30",null)),mt=vt.exports,pt={name:"ConUsers",components:{User:mt,Details:rt,Modal:dt},data:function(){return{user:{},isShow:!1,userContacts:{name:{value:"",type:"text"},phone:{value:"",type:"tel"},email:{value:"",type:"email"}},error:"",isSort:!1,selectedSortVal:"",searchData:""}},computed:Object(u["a"])(Object(u["a"])({},Object(l["c"])({users:y.users})),{},{usersData:function(){var t=this;return this.searchData?this.users.filter((function(e){if(e.username.toLowerCase().includes(t.searchData.toLowerCase()))return e})):this.users}}),methods:Object(u["a"])(Object(u["a"])({},Object(l["b"])({changeUserData:w.changeUserData,sortUsersData:w.sortUsersData,getUsers:w.getUsers})),{},{sortData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedSortVal;t?(this.isSort=!0,this.sortUsersData(Object(N["a"])(this.users))):(this.isSort=!1,this.getUsers())},showModal:function(t){this.isShow=!0,this.user=t},hideModal:function(){this.isShow=!1,this.clearForm()},sendForm:function(){for(var t in this.user=Object(u["a"])(Object(u["a"])({},this.user),{},{name:this.userContacts.name.value,phone:this.userContacts.phone.value,email:this.userContacts.email.value}),this.userContacts)if(""===this.userContacts[t].value)return this.error="Заполните все поля";this.changeUserData(this.user),this.sortData(),this.hideModal(),this.clearForm()},clearForm:function(){for(var t in this.userContacts)this.userContacts[t].value="",this.error=""}}),watch:{selectedSortVal:function(){this.sortData()}}},bt=pt,_t=(s("0d08"),Object(M["a"])(bt,F,V,!1,null,"5137c5a3",null)),Ct=_t.exports,gt={name:"Home",components:{Users:Ct}},yt=gt,Ot=Object(M["a"])(yt,P,T,!1,null,null,null),wt=Ot.exports;i["a"].use(E["a"]);var jt=[{path:"/",name:"Home",component:wt}],Ut=new E["a"]({mode:"history",base:"/contact-book-vue/",routes:jt}),Dt=Ut;i["a"].use(l["a"]);var St=new l["a"].Store({state:{},mutations:{},actions:{},modules:{users:S}});i["a"].config.productionTip=!1,new i["a"]({router:Dt,store:St,render:function(t){return t(A)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"9c0c":function(t,e,s){},a9bc:function(t,e,s){},c7d6:function(t,e,s){},d58e:function(t,e,s){"use strict";s("c7d6")},ef06:function(t,e,s){"use strict";s("3c3f")},ef28:function(t,e,s){},f16a:function(t,e,s){"use strict";s("0c4f")},fc78:function(t,e,s){"use strict";s("ef28")}});
//# sourceMappingURL=app.49383233.js.map