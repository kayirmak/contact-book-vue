(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},r=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/contact-book-vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1e22":function(t,e,s){t.exports=s.p+"img/photo.ea802524.jpg"},"21b9":function(t,e,s){},2924:function(t,e,s){"use strict";s("21b9")},3258:function(t,e,s){},"356a":function(t,e,s){"use strict";s("37a0")},"37a0":function(t,e,s){},"4c5e":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],o={name:"ConApp",mounted:function(){this.$store.dispatch("getUsers")}},i=o,c=(s("5c0b"),s("2877")),u=Object(c["a"])(i,a,r,!1,null,null,null),l=u.exports,d=s("8c4f"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("users")],1)},v=[],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"users"},[s("div",{staticClass:"users-top-bar"},[s("Search",{attrs:{users:this.users},on:{findBySearch:t.findBySearch}}),s("div",{staticClass:"top-bar__select"},[s("label",{attrs:{for:"sort-select"}},[t._v("Sort By")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSortVal,expression:"selectedSortVal"}],attrs:{id:"sort-select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSortVal=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",selected:""}},[t._v("Default")]),s("option",{attrs:{value:"username"}},[t._v("Username")])])])],1),s("div",{staticClass:"users-main"},[s("User",{attrs:{users:this.users,selectedVal:t.selectedSortVal}}),s("Details",{on:{showModal:t.showModal}}),t.isShow?s("Modal",{on:{hideModal:t.hideModal,sendForm:t.sendForm},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[t._v(" "+t._s(t.error)+" ")]},proxy:!0}],null,!1,1120838283)},t._l(Object.keys(t.userContacts),(function(e,n){return s("div",{key:n,staticClass:"form-item"},[s("label",{attrs:{for:"contact-"+e}},[t._v(t._s(e))]),"checkbox"===t.userContacts[e].type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.userContacts[e].value,expression:"userContacts[item].value"}],attrs:{id:"contact-"+e,type:"checkbox"},domProps:{checked:Array.isArray(t.userContacts[e].value)?t._i(t.userContacts[e].value,null)>-1:t.userContacts[e].value},on:{change:function(s){var n=t.userContacts[e].value,a=s.target,r=!!a.checked;if(Array.isArray(n)){var o=null,i=t._i(n,o);a.checked?i<0&&t.$set(t.userContacts[e],"value",n.concat([o])):i>-1&&t.$set(t.userContacts[e],"value",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.userContacts[e],"value",r)}}}):"radio"===t.userContacts[e].type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.userContacts[e].value,expression:"userContacts[item].value"}],attrs:{id:"contact-"+e,type:"radio"},domProps:{checked:t._q(t.userContacts[e].value,null)},on:{change:function(s){return t.$set(t.userContacts[e],"value",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.userContacts[e].value,expression:"userContacts[item].value"}],attrs:{id:"contact-"+e,type:t.userContacts[e].type},domProps:{value:t.userContacts[e].value},on:{input:function(s){s.target.composing||t.$set(t.userContacts[e],"value",s.target.value)}}})])})),0):t._e()],1)])},m=[],p=s("2909"),b=s("5530"),_=(s("4de4"),s("d3b7"),s("caad"),s("2532"),s("b0c0"),s("2f62")),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},["username"===t.selectedVal?s("div",{staticClass:"user-group"},t._l(t.groupsName,(function(e,n){return s("div",{key:n},[s("div",{staticClass:"user-group__toggle",on:{click:t.toggleGroup}},[t._v(" "+t._s(e.group)+" ")]),s("div",{staticClass:"user-group__items"},t._l(e.children,(function(e,n){return s("div",{key:n,staticClass:"user-item",class:{active:t.isActive===e.id},on:{click:function(s){return t.showDetails(e)}}},[s("div",{staticClass:"item-title"},[t._m(0,!0),s("div",[t._v(t._s(e.username))])]),s("div",{staticClass:"el-width email"},[t._v(t._s(e.email))]),s("div",{staticClass:"el-width"},[t._v(t._s(e.phone))])])})),0)])})),0):s("div",t._l(t.users,(function(e,n){return s("div",{key:n,staticClass:"user-item",class:{active:t.isActive===e.id},on:{click:function(s){return t.showDetails(e)}}},[s("div",{staticClass:"item-title"},[t._m(1,!0),s("div",[t._v(t._s(e.username))])]),s("div",{staticClass:"el-width email"},[t._v(t._s(e.email))]),s("div",{staticClass:"el-width"},[t._v(t._s(e.phone))])])})),0)])},g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-title__avatar"},[n("img",{attrs:{src:s("1e22"),alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-title__avatar"},[n("img",{attrs:{src:s("1e22"),alt:""}})])}],y={name:"ConUser",props:{users:{required:!0},selectedVal:{type:String,required:!0}},data:function(){return{isActive:!1,isShowGroup:!1}},computed:{groupsName:function(){console.log(this.users,"groupsName");var t=Object(p["a"])(this.users);return t.reduce((function(t,e){var s=e.username[0];return t[s]?t[s].children.push(e):t[s]={group:s,children:[e]},t}),{})}},methods:Object(b["a"])(Object(b["a"])({},Object(_["b"])(["getOneUser"])),{},{showDetails:function(t){this.getOneUser(t),this.isActive=t.id},toggleGroup:function(t){t.target.nextSibling.style.display=t.target.nextSibling.style.display?"":"none",this.isShowGroup=!this.isShowGroup}})},w=y,O=(s("75f9"),Object(c["a"])(w,C,g,!1,null,"680ce82e",null)),S=O.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details"},[s("div",{staticClass:"wrapper"},[s("button",{on:{click:function(e){return t.showModal(t.user)}}},[t._v("Edit")]),t._m(0),s("div",{staticClass:"details-title"},[s("h3",[t._v(t._s(t.user.username))]),s("p",[t._v(t._s(t.user.name))])]),s("Tabs",{attrs:{user:t.formedUser,tabs:t.tabs},on:{showContent:t.showContent}}),s("details-content",{attrs:{content:t.content,tab:t.tab}})],1)])},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"details-image"},[n("img",{attrs:{src:s("1e22"),alt:""}})])}],D=(s("b64b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabs"},t._l(Object.keys(t.tabs),(function(e,n){return s("div",{key:n,staticClass:"tabs-item",class:{active:t.tabs[e].isActive},on:{click:function(s){return t.showContent(e)}}},[t._v(" "+t._s(e)+" ")])})),0)}),k=[],x={name:"ConTabs",props:{user:{type:Object,required:!0},tabs:{type:Object,required:!0}},data:function(){return{isUser:"",defaultTab:Object.keys(this.user)[0]}},methods:{showContent:function(t){for(var e in this.$emit("showContent",this.user[t],t),this.tabs)e!==t&&(this.tabs[e].isActive=!1),this.tabs[t].isActive=!0}},watch:{user:function(){this.showContent(this.defaultTab)}},mounted:function(){this.showContent(this.defaultTab)}},$=x,E=(s("bdac"),Object(c["a"])($,D,k,!1,null,"3c1c3243",null)),M=E.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-content"},["contacts"===t.tab?s("div",{staticClass:"content-contact"},[s("div",{staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v("phone:")]),s("h4",[t._v(t._s(t.content.phone))])]),s("div",{staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v("email:")]),s("h4",[t._v(t._s(t.content.email))])]),s("div",{staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v("address:")]),s("h4",[t._v(t._s(t.content.address.country))])]),s("div",{staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v("website:")]),s("h4",[s("a",{attrs:{href:"http://"+t.content.website}},[t._v(t._s(t.content.website))])])])]):t._e(),"company"===t.tab?s("div",{staticClass:"content-company"},t._l(Object.keys(t.content),(function(e,n){return s("div",{key:n,staticClass:"content-item"},[s("p",{staticClass:"content-item__label"},[t._v(t._s(e)+":")]),s("h4",[t._v(t._s(t.content[e]))])])})),0):t._e()])},P=[],T={name:"ConDetailsContent",props:{content:{required:!0},tab:{required:!0}},mounted:function(){console.log(this.tab)}},N=T,R=(s("7fc5"),Object(c["a"])(N,A,P,!1,null,"2e738670",null)),V=R.exports,F={contacts:{isActive:!1},company:{isActive:!1}},q={name:"ConDetails",components:{Tabs:M,DetailsContent:V},data:function(){return{tabs:F,content:"",tab:""}},computed:Object(b["a"])(Object(b["a"])({},Object(_["c"])({user:"user"})),{},{formedUser:function(){var t=Object(b["a"])({},this.user);return Object.keys(this.tabs).filter((function(e){delete t[e]})),{contacts:Object(b["a"])({},t),company:this.user.company,posts:this.user.posts}}}),methods:{showContent:function(t,e){this.content=t,this.tab=e},showModal:function(t){this.$emit("showModal",t)}}},B=q,G=(s("356a"),Object(c["a"])(B,j,U,!1,null,"69a6ab32",null)),J=G.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"back-modal"},[s("div",{staticClass:"modal"},[s("div",{staticClass:"wrapper"},[s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.sendForm.apply(null,arguments)}}},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"modal-header__title"},[t._v("Изменить")]),s("div",{staticClass:"modal-header__hide",on:{click:t.hide}},[t._v(" x ")])]),s("div",{staticClass:"modal-body"},[t._t("default")],2),s("div",{staticClass:"modal-footer"},[s("div",{staticClass:"error"},[t._t("modal-footer")],2),s("div",{staticClass:"btn-group"},[s("button",{staticClass:"modal-footer__btn btn-submit",attrs:{type:"submit"}},[t._v(" OK ")]),s("button",{staticClass:"modal-footer__btn btn-cancel",attrs:{type:"submit"},on:{click:t.hide}},[t._v(" Cancel ")])])])])])])])},H=[],I={name:"ConModal",methods:{hide:function(){this.$emit("hideModal")},sendForm:function(){this.$emit("sendForm")}}},K=I,z=(s("57f6"),Object(c["a"])(K,L,H,!1,null,"8a751040",null)),Q=z.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData,expression:"searchData"}],attrs:{type:"text",placeholder:"Type Username"},domProps:{value:t.searchData},on:{input:function(e){e.target.composing||(t.searchData=e.target.value)}}})])},X=[],Y={name:"ConSearch",props:{users:{required:!0}},data:function(){return{searchData:""}},methods:{findBySearch:function(){console.log(this.$store.state.users.users);var t="j";this.$emit("findBySearch",t)}},watch:{searchData:function(){this.findBySearch()}}},Z=Y,tt=(s("8676"),Object(c["a"])(Z,W,X,!1,null,"0faf9a3a",null)),et=tt.exports,st={name:"ConUsers",components:{User:S,Details:J,Modal:Q,Search:et},data:function(){return{user:{},isShow:!1,userContacts:{name:{value:"",type:"text"},phone:{value:"",type:"tel"},email:{value:"",type:"email"}},error:"",group:[],isSort:!1,selectedSortVal:""}},computed:Object(b["a"])({},Object(_["c"])({users:"users",sortUsers:"sortUsers"})),methods:Object(b["a"])(Object(b["a"])({},Object(_["b"])(["changeUserData","sortUsersData","getUsers","groupsByLetter"])),{},{findBySearch:function(t){var e=this;this.users.filter((function(t){return t.username.toLowerCase().includes(e.searchData.toLowerCase())})),console.log(t)},sortData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedSortVal;console.log(this.users,"USERS"),t?(this.isSort=!0,this.sortUsersData(Object(p["a"])(this.users))):(this.isSort=!1,this.getUsers())},showModal:function(t){console.log(t,"USER"),this.isShow=!0,this.user=t},hideModal:function(){this.isShow=!1,this.clearForm()},sendForm:function(){for(var t in this.user=Object(b["a"])(Object(b["a"])({},this.user),{},{name:this.userContacts.name.value,phone:this.userContacts.phone.value,email:this.userContacts.email.value}),this.userContacts)if(""===this.userContacts[t].value)return this.error="Заполните все поля";this.changeUserData(this.user),this.sortData(),this.hideModal(),this.clearForm()},clearForm:function(){for(var t in this.userContacts)this.userContacts[t].value="",this.error=""}}),watch:{selectedSortVal:function(){this.sortData()}},mounted:function(){},updated:function(){console.log(this.isSort)}},nt=st,at=(s("2924"),Object(c["a"])(nt,f,m,!1,null,"2ed0e23b",null)),rt=at.exports,ot={name:"Home",components:{Users:rt}},it=ot,ct=Object(c["a"])(it,h,v,!1,null,null,null),ut=ct.exports;n["a"].use(d["a"]);var lt=[{path:"/",name:"Home",component:ut}],dt=new d["a"]({mode:"history",base:"/contact-book-vue/",routes:lt}),ht=dt,vt=(s("4e82"),s("d81d"),s("bc3a")),ft=s.n(vt),mt={users:{method:"GET",url:"/users"}},pt="https://demo.sibers.com",bt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(s,n){var a=mt[t],r=pt+a.url;ft()({url:r,method:a.method,data:e,responseType:"json"}).then((function(t){console.log(t.data,"RESPONSE"),s(t.data)})).catch((function(t){n(t)}))}))},_t=(s("e9c4"),function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(s){console.log("ERROR setting data",s)}}),Ct=function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){console.log("ERROR getting data",e)}},gt="DATA",yt={users:Ct(gt)||[],user:Ct(gt)?Ct(gt)[0]:{},sortUsers:[]},wt={users:function(t){return t.users},sortUsers:function(t){return t.sortUsers},user:function(t){return t.user}},Ot={getUsersSuccess:function(t,e){t.users=e},getOneUser:function(t,e){t.user=e},changeUserDataSuccess:function(t,e){t.user=e},sortUsersData:function(t,e){t.users=e}},St={getUsers:function(t){var e=t.commit;Ct(gt)?e("getUsersSuccess",Ct(gt)):bt("users").then((function(t){console.log(t,"RESP"),_t(gt,t),e("getUsersSuccess",t)}))},getOneUser:function(t,e){var s=t.commit;s("getOneUser",e)},sortUsersData:function(t,e){var s=t.commit;return new Promise((function(t){e.sort((function(t,e){var s=t.username,n=e.username;return s<n?-1:s>n?1:0})),s("sortUsersData",e),t(e)}))},changeUserData:function(t,e){var s=t.commit,n=t.dispatch;s("changeUserDataSuccess",e);var a=Ct(gt);a=a.map((function(t){return t.id===e.id?e:t})),_t(gt,a),n("sortUsersData",a)}},jt={state:yt,mutations:Ot,actions:St,getters:wt};n["a"].use(_["a"]);var Ut=new _["a"].Store({state:{},mutations:{},actions:{},modules:{users:jt}});n["a"].config.productionTip=!1,new n["a"]({router:ht,store:Ut,render:function(t){return t(l)}}).$mount("#app")},"57f6":function(t,e,s){"use strict";s("db26")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"75f9":function(t,e,s){"use strict";s("4c5e")},"7fc5":function(t,e,s){"use strict";s("e8a5")},8676:function(t,e,s){"use strict";s("3258")},"9c0c":function(t,e,s){},bdac:function(t,e,s){"use strict";s("f9f9")},db26:function(t,e,s){},e8a5:function(t,e,s){},f9f9:function(t,e,s){}});
//# sourceMappingURL=app.278a5341.js.map